schema: moran_aux
source_dir: ..
deploy:
  default:
    tests:
      - send: 'lmjxz'
        assert: print(cand[1].text) or cand[1].text == 'é€£æ¥' and cand[1].comment == 'z'

  tab:
    tests:
      - send: 'lmjx{Tab}j{space}{space}'
        assert: commit == 'éˆæ¥'

  pin:
    tests:
      - send: 'lmjx'
        assert: cand[1].text == 'éˆæ¥' and cand[2].text == 'é€£æ¥'
      - send: 'lmjx{Control+t}'  # SIDE-EFFECT!!
        assert: cand[1].comment == "ğŸ“Œ"
      - send: 'lmjx{Control+t}'
        assert: cand[1].comment == ""
      - send: 'lmjx{Down}{Control+t}'
        assert: cand[1].text == 'é€£æ¥' and cand[1].comment == "ğŸ“Œ"
      - send: 'lmjx'
        assert: cand[1].text == 'é€£æ¥' and cand[1].comment == "ğŸ“Œ"
